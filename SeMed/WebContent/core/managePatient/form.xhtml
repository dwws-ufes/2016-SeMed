<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:jsf="http://xmlns.jcp.org/jsf"
                template="/resources/default/decorator.xhtml">


<ui:define name="title"> 
	<h:outputText value="Creating a Patient" 
				  rendered="#{(! managePatientController.readOnly) and (managePatientController.selectedEntity.id == null)}" />
   	<h:outputText value="Updating a Patient" 
   				  rendered="#{(! managePatientController.readOnly) and (managePatientController.selectedEntity.id != null)}" />
    <h:outputText value="Retrieving a Patient?" rendered="#{managePatientController.readOnly}" />
</ui:define>


	<ui:define name="body">
		<ui:decorate template="/resources/sae/form.xhtml">
			<ui:param name="formName"
				value="Patient Register" />
			<h:form id="form" pt:class="form-horizontal">

				<h:panelGroup id="nameField">
					<ui:decorate template="/resources/sae/formfield.xhtml">
						<ui:param name="fieldName" value="form:name" />
						<ui:param name="label"
							value="Name" />
							<!-- pt:placeholder="Name"-->
						<p:inputText id="name" pt:class="form-control"
							disabled="#{managePatientController.readOnly  or (managePatientController.selectedEntity.id!=null)}"
							value="#{managePatientController.selectedEntity.firstName}"
							required="true">
							<p:ajax event="blur" update="nameField" />
						</p:inputText>
					</ui:decorate>
				</h:panelGroup>

				<ui:decorate template="/resources/sae/formbutton.xhtml">
					<h:panelGroup class="form-group">
						<h:panelGroup class="col-sm-3" />
						<h:panelGroup class="col-sm-3" style="margin-bottom: 15px">
							<a class="btn btn-block btn-warning btn-social"
								jsf:immediate="true"
								jsf:action="#{managePatientController.list}"> <i
								class="fa fa-rotate-left"></i> <h:outputText value="Back" />
							</a>
						</h:panelGroup>
						<h:panelGroup class="col-sm-3" />
						<h:panelGroup class="col-sm-3">
							<a class="btn btn-block btn-info btn-social"
								jsf:action="#{managePatientController.save}"
								jsf:update=":form :globalMessages"
								jsf:rendered="#{!managePatientController.readOnly}"><i
								class="fa  fa-save"></i> <h:outputText
									value="Save" /> </a>
						</h:panelGroup>
					</h:panelGroup>
				</ui:decorate>

			</h:form>
		</ui:decorate>



	</ui:define>
</ui:composition>
